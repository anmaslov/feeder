# üêæ –ê–≤—Ç–æ–∫–æ—Ä–º—É—à–∫–∞ –¥–ª—è –ø–∏—Ç–æ–º—Ü–µ–≤ –Ω–∞ ESP32-CAM

–£–º–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä–º—É—à–∫–∞ –¥–ª—è –¥–æ–º–∞—à–Ω–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö –Ω–∞ –±–∞–∑–µ ESP32-CAM —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º, MQTT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –∏ OTA –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º.

![ESP32-CAM](https://img.shields.io/badge/ESP32-CAM-blue)
![PlatformIO](https://img.shields.io/badge/PlatformIO-Compatible-orange)
![License](https://img.shields.io/badge/license-MIT-green)
![MQTT](https://img.shields.io/badge/MQTT-Integrated-green)

üá¨üáß [English version](README.md)

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–æ–π**: –∫–æ—Ä–æ—Ç–∫–∏–π –∫–ª–∏–∫ –¥–ª—è –∫–æ—Ä–º–ª–µ–Ω–∏—è, —É–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- ‚úÖ **RGB LED –∏–Ω–¥–∏–∫–∞—Ü–∏—è**: WS2812B –ª–µ–Ω—Ç–∞ (2 LED) —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫**: –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —ç–Ω–µ—Ä–≥–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –ø–∞–º—è—Ç–∏
- ‚úÖ **WiFi –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –¥–æ–º–∞—à–Ω–µ–π —Å–µ—Ç–∏
- ‚úÖ **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- ‚úÖ **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ**: –¥–æ 5 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ—Ä–º–ª–µ–Ω–∏–π –≤ –¥–µ–Ω—å
- ‚úÖ **NTP —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- ‚úÖ **OTA –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—à–∏–≤–∫–∏ –ø–æ –≤–æ–∑–¥—É—Ö—É
- ‚úÖ **MQTT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ª–æ–≥–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### MQTT –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (NEW! üÜï):
- üì° **–£–¥–∞–ª–µ–Ω–Ω—ã–µ –ª–æ–≥–∏**: –≤—Å—è –æ—Ç–ª–∞–¥–∫–∞ —á–µ—Ä–µ–∑ MQTT
- üìä **–£–º–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –∞–ø—Ç–∞–π–º + –¥–∞—Ç–∞/–≤—Ä–µ–º—è –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ (–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É)
- üéÆ **–£–¥–∞–ª–µ–Ω–Ω–æ–µ –∫–æ—Ä–º–ª–µ–Ω–∏–µ**: –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ MQTT
- üì± **Home Assistant**: –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å binary sensor
- üîî **–°—Ç–∞—Ç—É—Å—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**: JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–æ—Ä–º–ª–µ–Ω–∏–∏

## üõ† –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|
| ESP32-CAM | –û—Å–Ω–æ–≤–Ω–∞—è –ø–ª–∞—Ç–∞ |
| –®–∞–≥–æ–≤—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å 28BYJ-48 | –î–≤–∏–≥–∞—Ç–µ–ª—å –¥–ª—è —à–Ω–µ–∫–∞ |
| –î—Ä–∞–π–≤–µ—Ä ULN2003 | –î—Ä–∞–π–≤–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–≥–∞—Ç–µ–ª–µ–º |
| WS2812B LED –ª–µ–Ω—Ç–∞ | 2 –∞–¥—Ä–µ—Å–Ω—ã—Ö —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞ |
| –ö–Ω–æ–ø–∫–∞ | –¢–∞–∫—Ç–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
| –ë–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è 5V/2A | –ü–∏—Ç–∞–Ω–∏–µ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã |

## üìå –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### ESP32-CAM ‚Üí –î—Ä–∞–π–≤–µ—Ä –º–æ—Ç–æ—Ä–∞ (ULN2003)
```
GPIO 12 (IN1) ‚Üí –§–∞–∑–∞ 1
GPIO 13 (IN2) ‚Üí –§–∞–∑–∞ 2
GPIO 15 (IN3) ‚Üí –§–∞–∑–∞ 3
GPIO 14 (IN4) ‚Üí –§–∞–∑–∞ 4
```

### –ö–Ω–æ–ø–∫–∞
```
GPIO 2 ‚Üí –û–¥–∏–Ω –∫–æ–Ω—Ç–∞–∫—Ç –∫–Ω–æ–ø–∫–∏
GND    ‚Üí –î—Ä—É–≥–æ–π –∫–æ–Ω—Ç–∞–∫—Ç –∫–Ω–æ–ø–∫–∏
```

### LED –ª–µ–Ω—Ç–∞ WS2812B
```
GPIO 16 ‚Üí DIN (Data In)
5V      ‚Üí VCC
GND     ‚Üí GND
```

### –ü–∏—Ç–∞–Ω–∏–µ
```
5V  ‚Üí VCC (–Ω–∞ –¥—Ä–∞–π–≤–µ—Ä–µ –∏ ESP32-CAM)
GND ‚Üí GND (–æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/anmaslov/feeder.git
cd feeder
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –ø—Ä–∏–º–µ—Ä–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª:
```bash
# WiFi
WIFI_SSID=your_wifi_ssid
WIFI_PASSWORD=your_wifi_password

# MQTT
MQTT_SERVER=192.168.1.100
MQTT_PORT=1883
MQTT_USER=mqtt_user
MQTT_PASSWORD=mqtt_password

# OTA
ESP_IP=192.168.1.100
```

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ USB
```bash
# –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤ platformio.ini USB –∑–∞–≥—Ä—É–∑–∫—É, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫–∞–±–µ–ª—å
platformio run --target upload
```

### 4. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
```bash
platformio run --target uploadfs
```

### 5. OTA –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏)
```bash
platformio run --target upload --upload-port ESP_IP_FROM_ENV
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è

| –ò–Ω–¥–∏–∫–∞—Ü–∏—è | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------|
| 3 –º–∏–≥–∞–Ω–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ | –ü–ª–∞—Ç–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ |
| 5 –±—ã—Å—Ç—Ä—ã—Ö –º–∏–≥–∞–Ω–∏–π | WiFi –ø–æ–¥–∫–ª—é—á–µ–Ω |
| –°–≤–µ—Ç–æ–¥–∏–æ–¥ –≥–æ—Ä–∏—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ | –ò–¥—ë—Ç –∫–æ—Ä–º–ª–µ–Ω–∏–µ –∏–ª–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ |
| 2 –±—ã—Å—Ç—Ä—ã—Ö –º–∏–≥–∞–Ω–∏—è | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã |
| –ú–∏–≥–∞–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è OTA | –ò–¥—ë—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—à–∏–≤–∫–∏ |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–æ–π

#### –ö–æ—Ä–æ—Ç–∫–∏–π –∫–ª–∏–∫ (< 0.5 —Å–µ–∫)
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∫–æ—Ä–º–ª–µ–Ω–∏—è
- –ú–æ—Ç–æ—Ä –≤—ã–¥–∞—ë—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é –ø–æ—Ä—Ü–∏—é –∫–æ—Ä–º–∞
- –°–≤–µ—Ç–æ–¥–∏–æ–¥ –≥–æ—Ä–∏—Ç –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

#### –£–¥–µ—Ä–∂–∞–Ω–∏–µ (> 0.5 —Å–µ–∫)
- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø–æ—Ä—Ü–∏–∏
- –°–≤–µ—Ç–æ–¥–∏–æ–¥ –∑–∞–≥–æ—Ä–∞–µ—Ç—Å—è
- –ú–æ—Ç–æ—Ä –∫—Ä—É—Ç–∏—Ç—Å—è –ø–æ–∫–∞ –¥–µ—Ä–∂–∏—Ç–µ –∫–Ω–æ–ø–∫—É
- –û—Ç–ø—É—Å—Ç–∏—Ç–µ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ—Ä–º–∞ –≤—ã–¥–∞–Ω–æ
- –ù–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ—Ä—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- 2 –±—ã—Å—Ç—Ä—ã—Ö –º–∏–≥–∞–Ω–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–í —Ñ–∞–π–ª–µ `src/main.cpp` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

```cpp
#define FEED_SPEED 3000     // –°–∫–æ—Ä–æ—Å—Ç—å –º–æ—Ç–æ—Ä–∞ (–º–∫—Å –º–µ–∂–¥—É —à–∞–≥–∞–º–∏)
#define STEPS_FRW 19        // –®–∞–≥–∏ –≤–ø–µ—Ä—ë–¥
#define STEPS_BKW 12        // –®–∞–≥–∏ –Ω–∞–∑–∞–¥ (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑–∞—Å—Ç—Ä–µ–≤–∞–Ω–∏–µ)
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
esp32-cam-feeder/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.cpp           # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ feeder.cpp         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–æ–º –∏ LED
‚îÇ   ‚îú‚îÄ‚îÄ schedule.cpp       # –õ–æ–≥–∏–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ mqtt_handler.cpp   # MQTT –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ web_server.cpp     # HTTP API
‚îÇ   ‚îî‚îÄ‚îÄ SimpleButton.h     # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–Ω–æ–ø–∫–æ–π
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îú‚îÄ‚îÄ config.h           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ø–∏–Ω—ã, —Ç–∞–π–º–µ—Ä—ã)
‚îÇ   ‚îú‚îÄ‚îÄ feeder.h           # –ó–∞–≥–æ–ª–æ–≤–æ–∫ feeder
‚îÇ   ‚îú‚îÄ‚îÄ schedule.h         # –ó–∞–≥–æ–ª–æ–≤–æ–∫ schedule
‚îÇ   ‚îú‚îÄ‚îÄ mqtt_handler.h     # –ó–∞–≥–æ–ª–æ–≤–æ–∫ MQTT
‚îÇ   ‚îî‚îÄ‚îÄ web_server.h       # –ó–∞–≥–æ–ª–æ–≤–æ–∫ web server
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ config.json        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –ø–æ—Ä—Ü–∏–∏)
‚îÇ   ‚îî‚îÄ‚îÄ index.html         # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ .env.example           # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ load_env.py            # –°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏ .env
‚îú‚îÄ‚îÄ platformio.ini         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PlatformIO
‚îú‚îÄ‚îÄ LOVELACE_CARD.yaml     # –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–ª—è Home Assistant
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ LICENSE
‚îî‚îÄ‚îÄ README.md
```

## üåê OTA –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ß–µ—Ä–µ–∑ PlatformIO
–î–æ–±–∞–≤—å—Ç–µ –≤ `platformio.ini`:
```ini
upload_protocol = espota
upload_port = feeder-cam.local
```

### –ß–µ—Ä–µ–∑ Arduino IDE
1. –ú–µ–Ω—é: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ‚Üí –ü–æ—Ä—Ç
2. –í—ã–±–µ—Ä–∏—Ç–µ `feeder-cam at 192.168.x.x`
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫–µ—Ç—á

### –° –ø–∞—Ä–æ–ª–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤ `main.cpp`:
```cpp
ArduinoOTA.setPassword("admin");
```

## üîç –û—Ç–ª–∞–¥–∫–∞

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ Serial Monitor (115200 baud) –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤:
```
–ê–≤—Ç–æ–∫–æ—Ä–º—É—à–∫–∞ ESP32-CAM –≥–æ—Ç–æ–≤–∞!
–ó–∞–≥—Ä—É–∂–µ–Ω–∞ –ø–æ—Ä—Ü–∏—è: 100
–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WiFi.....
WiFi –ø–æ–¥–∫–ª—é—á–µ–Ω!
IP –∞–¥—Ä–µ—Å: 192.168.x.x
OTA –≥–æ—Ç–æ–≤
MQTT –ø–æ–¥–∫–ª—é—á–µ–Ω
Hostname: feeder-cam
```

## üì° MQTT –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:

–ö–æ—Ä–º—É—à–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ MQTT –±—Ä–æ–∫–µ—Ä—É (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `.env`):
- **–°–µ—Ä–≤–µ—Ä:** `your_mqtt_server:1883`
- **–õ–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å:** –∏–∑ —Ñ–∞–π–ª–∞ `.env`

### –¢–æ–ø–∏–∫–∏:

| –¢–æ–ø–∏–∫ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| `feeder/logs` | –ü—É–±–ª–∏–∫–∞—Ü–∏—è | –í—Å–µ –ª–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞ |
| `feeder/uptime` | –ü—É–±–ª–∏–∫–∞—Ü–∏—è | –ê–ø—Ç–∞–π–º + –¥–∞—Ç–∞/–≤—Ä–µ–º—è (–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É) |
| `feeder/feed` | –ü–æ–¥–ø–∏—Å–∫–∞ | –ö–æ–º–∞–Ω–¥–∞ –ø–æ–∫–æ—Ä–º–∏—Ç—å |
| `feeder/status` | –ü—É–±–ª–∏–∫–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å –∫–æ—Ä–º–ª–µ–Ω–∏—è (JSON) |
| `feeder/availability` | –ü—É–±–ª–∏–∫–∞—Ü–∏—è | online/offline (deprecated) |

> **–ù–æ–≤–∏–Ω–∫–∞ v3.1.1:** –¢–æ–ø–∏–∫ `feeder/uptime` —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—Ç–ø—Ä–∞–≤–∫–∏!  
> –§–æ—Ä–º–∞—Ç: `Uptime: 0 –¥–Ω–µ–π 1:23:45 | Last: 07.12.2025 14:30:15`

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
mosquitto_sub -h YOUR_MQTT_SERVER -u YOUR_USER -P YOUR_PASSWORD -t "feeder/logs"

# –ü—Ä–æ—Å–º–æ—Ç—Ä uptime —Å –¥–∞—Ç–æ–π/–≤—Ä–µ–º–µ–Ω–µ–º (NEW!)
mosquitto_sub -h YOUR_MQTT_SERVER -u YOUR_USER -P YOUR_PASSWORD -t "feeder/uptime"

# –ü–æ–∫–æ—Ä–º–∏—Ç—å
mosquitto_pub -h YOUR_MQTT_SERVER -u YOUR_USER -P YOUR_PASSWORD -t "feeder/feed" -m "100"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–Ω–ª–∞–π–Ω (–ø–æ uptime)
mosquitto_sub -h YOUR_MQTT_SERVER -u YOUR_USER -P YOUR_PASSWORD -t "feeder/uptime" -C 1 -W 150
```

### Home Assistant (v3.1.1):

```yaml
binary_sensor:
  - platform: mqtt
    name: "–ö–æ—Ä–º—É—à–∫–∞ –æ–Ω–ª–∞–π–Ω"
    state_topic: "feeder/uptime"
    payload_on: "Uptime"
    device_class: connectivity
    expire_after: 150  # –û—Ñ—Ñ–ª–∞–π–Ω –µ—Å–ª–∏ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è 2.5 –º–∏–Ω—É—Ç—ã

mqtt:
  button:
    - name: "–ü–æ–∫–æ—Ä–º–∏—Ç—å –∫–æ—Ç–∞"
      command_topic: "feeder/feed"
      payload_press: "15"
```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [MQTT_UPTIME_V2.md](MQTT_UPTIME_V2.md) | [MQTT_QUICKSTART.md](MQTT_QUICKSTART.md)

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ú–æ—Ç–æ—Ä –Ω–µ –∫—Ä—É—Ç–∏—Ç—Å—è –∏–ª–∏ –≥—É–¥–∏—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ñ–∞–∑
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–º–µ–Ω—è—Ç—å –º–µ—Å—Ç–∞–º–∏ –ø—Ä–æ–≤–æ–¥–∞ –Ω–∞ –¥—Ä–∞–π–≤–µ—Ä–µ
- –£–≤–µ–ª–∏—á—å—Ç–µ `FEED_SPEED` (–∑–∞–º–µ–¥–ª–∏—Ç—å –º–æ—Ç–æ—Ä)

### WiFi –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å SSID –∏ –ø–∞—Ä–æ–ª—è
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ä–æ—É—Ç–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 2.4 GHz (ESP32 –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å 5GHz)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–ª—É —Å–∏–≥–Ω–∞–ª–∞ WiFi

### –°–≤–µ—Ç–æ–¥–∏–æ–¥ –Ω–µ –º–∏–≥–∞–µ—Ç
- GPIO 4 –º–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å SD –∫–∞—Ä—Ç–æ–π
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å `LED_PIN` –Ω–∞ 33 (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π LED)

### OTA –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ ESP32 –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ—Ä—Ç 3232 –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Ñ–∞–µ—Ä–≤–æ–ª–æ–º
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IP –∞–¥—Ä–µ—Å –≤–º–µ—Å—Ç–æ hostname

### MQTT –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±—Ä–æ–∫–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç: `systemctl status mosquitto`
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ IP –∞–¥—Ä–µ—Å–∞ –∏ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –°–º–æ—Ç—Ä–∏—Ç–µ Serial Monitor –¥–ª—è –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫

## üìö –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–µ

–ü—Ä–æ–µ–∫—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ [GyverFeed2](https://github.com/AlexGyver/GyverFeed2) –æ—Ç [AlexGyver](https://alexgyver.ru/gyverfeed2/)

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è! –ù–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –æ—Ç–∫—Ä—ã–≤–∞—Ç—å issues –∏–ª–∏ pull requests.

## üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

---

**‚≠ê –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É –Ω–∞ GitHub!**
